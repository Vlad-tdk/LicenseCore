<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LicenseCore++ Documentation</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .doc-container {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        .doc-section {
            margin-bottom: 3rem;
        }
        
        .doc-section h2 {
            color: #667eea;
            border-bottom: 2px solid #e1e5e9;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .api-method {
            background: #f8fafc;
            border-left: 4px solid #667eea;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }
        
        .api-method h4 {
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .api-method .signature {
            font-family: monospace;
            background: #e1e5e9;
            padding: 0.5rem;
            border-radius: 4px;
            margin: 0.5rem 0;
        }
        
        .nav-links {
            position: sticky;
            top: 2rem;
            background: white;
            padding: 1rem;
            border-radius: 10px;
            border: 2px solid #e1e5e9;
        }
        
        .nav-links ul {
            list-style: none;
        }
        
        .nav-links a {
            color: #667eea;
            text-decoration: none;
            padding: 0.25rem 0;
            display: block;
        }
        
        .nav-links a:hover {
            color: #764ba2;
        }
        
        .two-column {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
        }
        
        @media (max-width: 768px) {
            .two-column {
                grid-template-columns: 1fr;
            }
        }
        
        .warning {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .tip {
            background: #d4edda;
            border: 2px solid #c3e6cb;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üìö LicenseCore++ Documentation</div>
            <div class="tagline">Complete API Reference and Integration Guide</div>
            <a href="index.html" style="color: white; text-decoration: none; opacity: 0.8;">‚Üê Back to Demo</a>
        </div>

        <div class="two-column">
            <div class="nav-links">
                <h3>Contents</h3>
                <ul>
                    <li><a href="#quick-start">Quick Start</a></li>
                    <li><a href="#installation">Installation</a></li>
                    <li><a href="#license-manager">LicenseManager</a></li>
                    <li><a href="#hardware-fingerprint">HardwareFingerprint</a></li>
                    <li><a href="#hmac-validator">HMACValidator</a></li>
                    <li><a href="#license-format">License Format</a></li>
                    <li><a href="#integration">Integration Examples</a></li>
                    <li><a href="#platform-notes">Platform Notes</a></li>
                    <li><a href="#troubleshooting">Troubleshooting</a></li>
                </ul>
            </div>

            <div class="doc-container">
                <div class="doc-section" id="quick-start">
                    <h2>üöÄ Quick Start</h2>
                    <p>Get up and running with LicenseCore++ in under 5 minutes.</p>
                    
                    <div class="code-example">
                        <h3>Basic Usage</h3>
                        <pre><code>#include &lt;license_core/license_manager.hpp&gt;

using namespace license_core;

int main() {
    // Initialize with your secret key
    LicenseManager manager("your-secret-key-here");
    
    // Validate license
    auto info = manager.load_and_validate(license_json);
    
    if (info.valid && manager.has_feature("premium")) {
        std::cout << "Welcome, " << info.user_id << "!" << std::endl;
        // Enable premium features
    } else {
        std::cout << "License invalid: " << info.error_message << std::endl;
    }
    
    return 0;
}</code></pre>
                    </div>
                </div>

                <div class="doc-section" id="installation">
                    <h2>üì¶ Installation</h2>
                    
                    <h3>CMake Integration</h3>
                    <div class="code-example">
                        <pre><code>find_package(LicenseCore REQUIRED)
target_link_libraries(your_app LicenseCore::licensecore)</code></pre>
                    </div>
                    
                    <h3>Manual Integration</h3>
                    <div class="code-example">
                        <pre><code># Include headers
-I/path/to/licensecore/include

# Link libraries
-llicensecore -lssl -lcrypto

# Platform-specific
# macOS: -framework IOKit -framework CoreFoundation
# Windows: -liphlpapi -lwbemuuid -lole32 -loleaut32</code></pre>
                    </div>
                    
                    <h3>Dependencies</h3>
                    <ul>
                        <li><strong>OpenSSL</strong> - For HMAC-SHA256 signatures</li>
                        <li><strong>C++17</strong> - Compatible compiler</li>
                        <li><strong>CMake 3.16+</strong> - Build system</li>
                    </ul>
                </div>

                <div class="doc-section" id="license-manager">
                    <h2>üîê LicenseManager API</h2>
                    <p>Main class for license validation and management.</p>
                    
                    <div class="api-method">
                        <h4>Constructor</h4>
                        <div class="signature">LicenseManager(const std::string& secret_key)</div>
                        <p>Initialize license manager with your secret key.</p>
                    </div>
                    
                    <div class="api-method">
                        <h4>load_and_validate</h4>
                        <div class="signature">LicenseInfo load_and_validate(const std::string& license_json)</div>
                        <p>Parse and validate a license JSON string. Returns LicenseInfo with validation results.</p>
                    </div>
                    
                    <div class="api-method">
                        <h4>has_feature</h4>
                        <div class="signature">bool has_feature(const std::string& feature) const</div>
                        <p>Check if current license includes specified feature.</p>
                    </div>
                    
                    <div class="api-method">
                        <h4>generate_license</h4>
                        <div class="signature">std::string generate_license(const LicenseInfo& info) const</div>
                        <p>Generate signed license JSON from license information.</p>
                    </div>
                    
                    <div class="api-method">
                        <h4>get_current_hwid</h4>
                        <div class="signature">std::string get_current_hwid() const</div>
                        <p>Get current system's hardware fingerprint.</p>
                    </div>
                    
                    <div class="api-method">
                        <h4>is_expired</h4>
                        <div class="signature">bool is_expired() const</div>
                        <p>Check if current license has expired.</p>
                    </div>
                </div>

                <div class="doc-section" id="license-format">
                    <h2>üìÑ License Format</h2>
                    <p>JSON structure for LicenseCore++ licenses.</p>
                    
                    <div class="code-example">
                        <h3>License JSON Structure</h3>
                        <pre><code>{
  "user_id": "customer-123",
  "license_id": "lic-1640995200",
  "expiry": "2025-12-31T23:59:59Z",
  "issued_at": "2024-01-01T00:00:00Z",
  "hardware_hash": "a1b2c3d4e5f6789...",
  "features": ["basic", "premium", "api"],
  "version": 1,
  "hmac_signature": "c4ef45e6d7f8a9b..."
}</code></pre>
                    </div>
                    
                    <h3>Field Descriptions</h3>
                    <ul>
                        <li><strong>user_id</strong> - Customer identifier</li>
                        <li><strong>license_id</strong> - Unique license identifier</li>
                        <li><strong>expiry</strong> - ISO8601 expiration timestamp</li>
                        <li><strong>issued_at</strong> - ISO8601 issue timestamp</li>
                        <li><strong>hardware_hash</strong> - Hardware fingerprint</li>
                        <li><strong>features</strong> - Array of enabled features</li>
                        <li><strong>version</strong> - License format version</li>
                        <li><strong>hmac_signature</strong> - HMAC-SHA256 signature</li>
                    </ul>
                </div>

                <div class="doc-section" id="integration">
                    <h2>üîß Integration Examples</h2>
                    
                    <h3>Desktop Application</h3>
                    <div class="code-example">
                        <pre><code>class MyApplication {
private:
    LicenseManager license_manager_;
    bool premium_enabled_ = false;
    
public:
    MyApplication() : license_manager_("my-app-secret-key") {}
    
    bool initialize() {
        std::string license_path = get_license_file_path();
        
        if (!std::filesystem::exists(license_path)) {
            show_license_dialog();
            return false;
        }
        
        std::ifstream file(license_path);
        std::string license_json((std::istreambuf_iterator&lt;char&gt;(file)),
                                std::istreambuf_iterator&lt;char&gt;());
        
        auto info = license_manager_.load_and_validate(license_json);
        
        if (!info.valid) {
            show_error("License invalid: " + info.error_message);
            return false;
        }
        
        premium_enabled_ = license_manager_.has_feature("premium");
        
        std::cout << "Welcome, " << info.user_id << "!" << std::endl;
        return true;
    }
    
    void enable_premium_menu() {
        if (premium_enabled_) {
            // Show premium menu items
        }
    }
};</code></pre>
                    </div>
                    
                    <h3>License Server</h3>
                    <div class="code-example">
                        <pre><code>// Server-side license generation
std::string generate_customer_license(
    const std::string& customer_id,
    const std::string& hardware_id,
    const std::vector&lt;std::string&gt;& features,
    int validity_days
) {
    LicenseManager manager(get_server_secret_key());
    
    LicenseInfo license;
    license.user_id = customer_id;
    license.license_id = "lic-" + std::to_string(time(nullptr));
    license.hardware_hash = hardware_id;
    license.features = features;
    license.issued_at = std::chrono::system_clock::now();
    license.expiry = license.issued_at + 
                     std::chrono::hours(24 * validity_days);
    license.version = 1;
    
    return manager.generate_license(license);
}</code></pre>
                    </div>
                    
                    <h3>Feature Gating</h3>
                    <div class="code-example">
                        <pre><code>class FeatureManager {
private:
    LicenseManager& license_manager_;
    
public:
    bool can_export_pdf() {
        return license_manager_.has_feature("export") ||
               license_manager_.has_feature("premium");
    }
    
    bool can_use_api() {
        return license_manager_.has_feature("api");
    }
    
    int max_users() {
        if (license_manager_.has_feature("enterprise")) return -1; // unlimited
        if (license_manager_.has_feature("team")) return 10;
        return 1; // basic
    }
};</code></pre>
                    </div>
                </div>

                <div class="doc-section" id="platform-notes">
                    <h2>üñ•Ô∏è Platform-Specific Notes</h2>
                    
                    <h3>Windows</h3>
                    <div class="tip">
                        <strong>Admin Rights:</strong> Some hardware information requires elevated privileges.
                    </div>
                    <ul>
                        <li><strong>CPU ID:</strong> Uses __cpuid intrinsic</li>
                        <li><strong>MAC Address:</strong> GetAdaptersAddresses API</li>
                        <li><strong>Volume Serial:</strong> GetVolumeInformation API</li>
                        <li><strong>Libraries:</strong> iphlpapi.lib, wbemuuid.lib, ole32.lib, oleaut32.lib</li>
                    </ul>
                    
                    <h3>macOS</h3>
                    <div class="tip">
                        <strong>OpenSSL Location:</strong> Use Homebrew: /opt/homebrew/lib/libssl.dylib
                    </div>
                    <ul>
                        <li><strong>CPU ID:</strong> sysctlbyname("hw.uuid")</li>
                        <li><strong>MAC Address:</strong> ifaddrs + sockaddr_dl</li>
                        <li><strong>Volume Serial:</strong> statfs filesystem ID</li>
                        <li><strong>Frameworks:</strong> IOKit, CoreFoundation</li>
                    </ul>
                    
                    <h3>Linux</h3>
                    <div class="warning">
                        <strong>Virtual Machines:</strong> Hardware fingerprinting may be limited in VMs.
                    </div>
                    <ul>
                        <li><strong>CPU ID:</strong> /proc/cpuinfo or /etc/machine-id</li>
                        <li><strong>MAC Address:</strong> ifaddrs + AF_PACKET</li>
                        <li><strong>Volume Serial:</strong> /proc/mounts root filesystem</li>
                        <li><strong>Packages:</strong> libssl-dev, build-essential</li>
                    </ul>
                </div>

                <div class="doc-section" id="troubleshooting">
                    <h2>üîß Troubleshooting</h2>
                    
                    <h3>Build Issues</h3>
                    
                    <div class="api-method">
                        <h4>OpenSSL Not Found</h4>
                        <div class="code-example">
                            <pre><code># macOS
export PKG_CONFIG_PATH="/opt/homebrew/lib/pkgconfig"
brew install openssl

# Linux
sudo apt install pkg-config libssl-dev

# Windows
vcpkg install openssl:x64-windows</code></pre>
                        </div>
                    </div>
                    
                    <div class="api-method">
                        <h4>Compilation Errors</h4>
                        <p>Ensure C++17 support and proper include paths:</p>
                        <div class="code-example">
                            <pre><code>g++ -std=c++17 -I./include your_app.cpp -llicensecore -lssl -lcrypto</code></pre>
                        </div>
                    </div>
                    
                    <h3>Runtime Issues</h3>
                    
                    <div class="api-method">
                        <h4>Empty Hardware Fingerprint</h4>
                        <p>Common causes and solutions:</p>
                        <ul>
                            <li>Virtual machine limitations - use fallback methods</li>
                            <li>Insufficient permissions - run with appropriate privileges</li>
                            <li>Missing platform libraries - check linking</li>
                        </ul>
                    </div>
                    
                    <div class="api-method">
                        <h4>License Validation Failures</h4>
                        <p>Debug validation issues:</p>
                        <div class="code-example">
                            <pre><code>auto info = manager.load_and_validate(license_json);
if (!info.valid) {
    std::cout << "Error: " << info.error_message << std::endl;
    
    // Common issues:
    // - "Invalid license signature" -> Wrong secret key
    // - "Hardware fingerprint mismatch" -> Different machine
    // - "License has expired" -> Past expiry date
    // - "Missing required fields" -> Malformed JSON
}</code></pre>
                        </div>
                    </div>
                    
                    <h3>Performance Optimization</h3>
                    
                    <div class="tip">
                        <strong>Cache Results:</strong> Hardware fingerprinting can be slow - cache the result.
                    </div>
                    
                    <div class="code-example">
                        <pre><code>class CachedLicenseManager {
private:
    LicenseManager manager_;
    std::optional&lt;LicenseInfo&gt; cached_license_;
    std::string cached_hwid_;
    
public:
    const LicenseInfo& get_license() {
        if (!cached_license_) {
            cached_license_ = manager_.load_and_validate(load_license_file());
        }
        return *cached_license_;
    }
    
    const std::string& get_hwid() {
        if (cached_hwid_.empty()) {
            cached_hwid_ = manager_.get_current_hwid();
        }
        return cached_hwid_;
    }
};</code></pre>
                    </div>
                    
                    <h3>Security Best Practices</h3>
                    
                    <div class="warning">
                        <strong>Secret Key Protection:</strong> Never hardcode secret keys in client applications.
                    </div>
                    
                    <ul>
                        <li>Use environment variables or encrypted config files</li>
                        <li>Implement key obfuscation for client-side validation</li>
                        <li>Consider online validation for high-security applications</li>
                        <li>Regularly rotate secret keys</li>
                        <li>Monitor for license abuse patterns</li>
                    </ul>
                    
                    <div class="code-example">
                        <h3>Secure Key Loading</h3>
                        <pre><code>std::string load_secret_key() {
    // Option 1: Environment variable
    if (const char* key = std::getenv("MYAPP_LICENSE_KEY")) {
        return std::string(key);
    }
    
    // Option 2: Encrypted config file
    return decrypt_config_value("license_key");
    
    // Option 3: Server-side validation only
    throw std::runtime_error("Use server-side validation");
}</code></pre>
                    </div>
                </div>

                <div class="doc-section">
                    <h2>üöÄ Ready to Get Started?</h2>
                    <p>LicenseCore++ makes professional software licensing simple and secure. Start protecting your software today!</p>
                    
                    <div style="text-align: center; margin: 2rem 0;">
                        <a href="index.html" class="btn">Try Interactive Demo</a>
                    </div>
                    
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">üíº</div>
                            <h3>Commercial Licenses</h3>
                            <p>Starting at $199 for individual developers. Enterprise options available.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üìû</div>
                            <h3>Support</h3>
                            <p>Email support included. Priority support for Team and Enterprise plans.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üîÑ</div>
                            <h3>Updates</h3>
                            <p>1 year of updates included with all licenses. Extended support available.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>&copy; 2024 LicenseCore Technologies. Professional licensing made simple.</p>
            <div class="footer-links">
                <a href="index.html">Demo</a>
                <a href="mailto:license@licensecore.tech">Contact</a>
                <a href="https://github.com/licensecore/licensecore">GitHub</a>
            </div>
        </div>
    </div>
</body>
</html>